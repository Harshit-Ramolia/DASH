# mux-embed

## 4.14.0

### Minor Changes

- 99ab50c: Tracking FPS changes if specified in Manifest

## 4.13.4

### Patch Changes

- faefb2e: Resolved issue sending beacons when paused

## 4.13.3

### Patch Changes

- 3b44caa: Fixed issue with monitoring network events for hls.js monitor

## 4.13.2

### Patch Changes

- b21e86a: Fix an issue with sending unnecessary heartbeat events on the window `visibilitychange` event

## 4.13.1

### Patch Changes

- df36c55: Fixes an issue with accessing the global object

## 4.13.0

### Minor Changes

- 4b78021: Collect the `x-request-id` header from segment responses to make it easier to correlate client requests to other logs
- 388e558: Upgraded internal webpack version

### Patch Changes

- a534321: Flush events on window `visibilitychange` event

## 4.12.1

### Patch Changes

- aaf3b01: Use Fetch API for sending beacons

## 4.12.0

### Minor Changes

- 856b2df: Generate a new unique view if the player monitor has not received any events for over an hour.

## 4.11.0

### Minor Changes

- b2499f4: Detect fullscreen and player language

## 4.10.0

### Minor Changes

- a59a3ee: Replace query string dependency to reduce package size
- a59a3ee: Remove `ImageBeacon` fallback, removing support for IE9

## 4.9.4

### Patch Changes

- 91c4794: Generate all `view_id`'s internally

## 4.9.3

### Patch Changes

- ecf1447: Use common function for generating short IDs

## 4.9.2

### Patch Changes

- 0323215: Fixed an issue around the `disablePlayheadRebufferTracking` option

## 4.9.1

### Patch Changes

- e4b3b16: Fix issue where `getStartDate` does not always return a date object

## 4.9.0

### Minor Changes

- 6fc81db: Support PDT and player_live_edge_program_time for Native Safari

### Patch Changes

- 28af90d: Set a max payload size in mux-embed

## 4.8.0

### Minor Changes

- 5b57b38: Add option `disablePlayheadRebufferTracking` to allow players to disable automatic rebuffering metrics.
  Players can emit their own `rebufferstart` or `rebufferend` events and track rebuffering metrics.

### Patch Changes

- 2572844: Fix an issue with removing `player_error_code` and `player_error_message` when the error code is `1`.
  Also stops emitting `MEDIA_ERR_ABORTED` as errors.
- 6bd4336: Now leaving Player Software Version for HTML5 Video Element unset rather than "No Versions" as it is no longer needed.

## 4.7.0

### Minor Changes

- d2c2670: Add an option to specify beaconCollectionDomain for Data custom domains

## 4.6.2

### Patch Changes

- 4f2187c: Fix an issue with emitting heartbeat events while the player is not playing

## 4.6.1

### Patch Changes

- 51476cc: Fix an issue with removing event listeners from window after the player monitor destroy event

## 4.6.0

- Update hls.js monitor to record session data with fields prefixed as `io.litix.data.`
- Update the manifest parser to parse HLS session data tags

## 4.5.0

- Add short codes to support internal video experiments
- Collect request header prefixed with `x-litix-*`
- Capture fatal hls.js errors
- Make `envKey` an optional parameter

## 4.4.4

- Add a player events enum on the `mux` object (e.g. `mux.events.PLAY`)
- Use the browser `visibilitychange` listener instead of `unload` to handle destructuring the player monitor.

## 4.4.3

- Fix: Specify `video_source_is_live` for HLS.js monitor

## 4.4.2

- Group events into 10 second batches before sending a beacon

## 4.4.1

- Exclude latency metrics from beacons if `video_source_is_live` is not `true`

## 4.4.0

- Add a lightweight HLS manifest parser to capture latency metrics for player's that don't expose an API for accessing the manifest.
- Allow players to emit `player_program_time` instead of calculating internally

## 4.3.0

- Add support for calculating latency metrics when streaming using HLS

## 4.2.5

- Remove default `video_id` when not specified by the developer.

## 4.2.4

- Add minified keys for latency metrics

## 4.2.3

- Add minified keys for new program time metrics

## 4.2.2

- Fix bug causing missing bitrate metrics using HLS.js {'>'}v1.0.0

## 4.2.1

- (video element monitor) Fix an issue where some non-fatal errors thrown by the video were tracked as playback failures

## 4.2.0

- Fix an issue where views triggered by programchange may not report metrics correctly
- Fix an issue where calling `el.mux.destroy()` multiple times in a row raised an exception

## 4.1.1

- Fix an issue where `player_remote_played` wasn't functioning correctly

## 4.1.0

- Add support for custom dimensions

## 4.0.1

- Support HLS.js v1.0.0

## 4.0.0

- Enable sending optional ad quartile events through.
- Move device detection server-side, improving data accuracy and reducing client SDK size.
- Fix an issue where jank may be experienced in some web applications when the SDK is loaded.

## 3.4.0

- Setting to disable rebuffer tracking `disableRebufferTracking` that defaults to `false`.

## 3.3.0

- Adds `viewer_connection_type` detection.

## 3.2.0

- Adds support for `renditionchange`.

## 3.1.0

- Add checks for window being undefined and expose a way for SDKs to pass in platform information. This work is necessary for compatibility with react-native-video.

## 3.0.0

- Setting to disable Mux Data collection when Do Not Track is present now defaults to off
- Do not submit the source url when a video is served using the data: protocol

## 2.10.0

- Use Performance Timing API, when available, for view event timestamps

## 2.9.1

- Fix an issue with server side rendering

## 2.9.0

- Support for Dash.js v3

## 2.8.0

- Submit Player Instance Id as a unique identifier

## 2.7.3

- Fixed a bug when using `mux.monitor` with Hls.js or Dash.js the source hostname was not being properly collected.
